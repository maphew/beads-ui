<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blocked Issues - beads</title>
    <link rel="icon" href="/static/favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.pumpkin.min.css">
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="/static/app.js"></script>
</head>
<body>
    <header>
    <nav>
    <ul>
    <li><strong><a href="/">ðŸ“¿ beads</a></strong></li>
    </ul>
    <ul>
    <li><a href="/">All Issues</a></li>
    <li><a href="/ready">Ready Work</a></li>
    <li><a href="/blocked">Blocked</a></li>
    </ul>
    <ul>
        <li><button id="theme-toggle" aria-label="Toggle theme">ðŸŒ™</button></li>
    </ul>
    </nav>
    </header>

    <main>
        <hgroup>
        <h2>ðŸš§ Blocked Issues</h2>
        <p>Issues waiting on open dependencies</p>
        </hgroup>

        {{if .Blocked}}
            {{range .Blocked}}
            <article>
            <header>
            <h3><a href="/issue/{{.Issue.ID}}">{{.Issue.ID}}: {{.Issue.Title}}</a></h3>
            <p>
            <kbd>{{.Issue.Status}}</kbd>
            <kbd>P{{.Issue.Priority}}</kbd>
            <kbd>{{.Issue.IssueType}}</kbd>
            </p>
            </header>

            <section>
            <h4>ðŸ”’ Blocked by {{len .OpenBlockers}} open {{if eq (len .OpenBlockers) 1}}issue{{else}}issues{{end}}:</h4>
            <ul>
            {{range .OpenBlockers}}
            <li>
            <a href="/issue/{{.ID}}">{{.ID}}</a> - {{.Title}}
            <kbd>{{.Status}}</kbd>
            <kbd>P{{.Priority}}</kbd>
            </li>
            {{end}}
            </ul>
            </section>
            </article>
            {{end}}
        {{else}}
        <p>ðŸŽ‰ No blocked issues! All open issues are ready to work on.</p>
        {{end}}
    </main>
</body>
</html>
