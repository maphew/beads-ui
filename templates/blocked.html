<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blocked Issues - beads</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <header>
        <h1><a href="/">ðŸ”— beads</a></h1>
        <nav class="nav-menu">
            <a href="/">All Issues</a>
            <a href="/ready">Ready Work</a>
            <a href="/blocked" class="active">Blocked</a>
        </nav>
        <div class="stats">
            <span class="stat">Open: {{.Stats.OpenIssues}}</span>
            <span class="stat">In Progress: {{.Stats.InProgressIssues}}</span>
            <span class="stat">Closed: {{.Stats.ClosedIssues}}</span>
        </div>
    </header>

    <main>
        <div class="page-header">
            <h2>ðŸš§ Blocked Issues</h2>
            <p>Issues waiting on open dependencies</p>
        </div>

        {{if .Blocked}}
        <div class="blocked-list">
            {{range .Blocked}}
            <div class="blocked-card">
                <div class="blocked-issue">
                    <h3><a href="/issue/{{.Issue.ID}}">{{.Issue.ID}}: {{.Issue.Title}}</a></h3>
                    <div class="blocked-meta">
                        <span class="badge status-{{.Issue.Status}}">{{.Issue.Status}}</span>
                        <span class="badge priority-{{.Issue.Priority}}">P{{.Issue.Priority}}</span>
                        <span class="badge type-{{.Issue.IssueType}}">{{.Issue.IssueType}}</span>
                    </div>
                </div>
                
                <div class="blockers-section">
                    <h4>ðŸ”’ Blocked by {{len .OpenBlockers}} open {{if eq (len .OpenBlockers) 1}}issue{{else}}issues{{end}}:</h4>
                    <ul class="blockers-list">
                        {{range .OpenBlockers}}
                        <li>
                            <a href="/issue/{{.ID}}">{{.ID}}</a> - {{.Title}}
                            <span class="badge status-{{.Status}}">{{.Status}}</span>
                            <span class="badge priority-{{.Priority}}">P{{.Priority}}</span>
                        </li>
                        {{end}}
                    </ul>
                </div>
            </div>
            {{end}}
        </div>
        {{else}}
        <div class="empty-state">
            <p>ðŸŽ‰ No blocked issues! All open issues are ready to work on.</p>
        </div>
        {{end}}
    </main>
</body>
</html>
